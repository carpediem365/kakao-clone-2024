<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../css/styles.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Friends - Kokoa Talk</title>
</head>
<body>
    <div class="status-bar">
        <div class="status-bar__column">
            <span>No service</span>
            <i class="fa-solid fa-wifi"></i>
        </div>
            
        <div class="status-bar__column">
            <span>18:43</span>
        </div>
            
        <div class="status-bar__column">
            <span>110%</span>
            <i class="fa-solid fa-battery-full fa-lg"></i>
            <i class="fa-solid fa-bolt"></i>
        </div>
    </div>
    
    <header class="screen-header">
        <h1 class="screen-header__title">Friends</h1>
        <div class="screen-header__icons">
            <span><i class="fa-solid fa-magnifying-glass fa-lg"></i></span>
            <span><i class="fa-solid fa-user-plus"></i></span>
            <span><i class="fa-solid fa-gear fa-lg"></i></span>
        </div>
    </header>

    <a id="friends-display-link">
        <i class="fa-solid fa-circle-info"></i>Friends' Names Display
        <i class="fa-solid fa-chevron-right fa-xs"></i> 
        <!-- 오른쪽 화살표 -->
    </a>

    <main class="friends-screen">
        <div class="user-component">
            <div class="user-component__column">
              <img
              src="<%= profile.profile_img_url ? profile.profile_img_url : '/images/basic_profile.jpg' %>"
                class="user-component__avatar user-component__avatar--xl" id="profileImg"
              />
              <div class="user-component__text">
                <h4 class="user-component__title"><%= profile.name %></h4>
                <p><%= profile.status_message %></p>
                <!-- <h6 class="user-component__subtitle">this text whatever</h6> -->
              </div>
            </div>
            <div class="user-component__column"></div>  
          </div>
        <div class="friends-screen__list">
            <div class="friends-screen__list-header">
                <span>친구</span>
                <span><%= friends.totalFriends %></span>
            </div>
            <% friends.friendsList.forEach(function(friend) { %>
            <div class="user-component">
                <div class="user-component__column">
                  <img
                  src="<%= friend.profile_img_url ? friend.profile_img_url : '/images/basic_profile.jpg' %>" alt="Friend Image"
                    class="user-component__avatar user-component__avatar--sm"
                  />
                  <div class="user-component__text">
                    <h4 class="user-component__title user-component__title--not-bold"><%= friend.friend_name %></h4>
                    <p><%= friend.status_message %></p>
                  </div>
                </div>
                <div class="user-component__column">

                </div>
              </div>
              <% }); %>
        </div>
    </main>

    
  

    <nav class="nav">
        <ul class="nav__list">
            <li class="nav__btn">
                <a class="nav__link" href="friends.html"><i class="fa-solid fa-user fa-2x"></i></a>
            </li>
            <li class="nav__btn">
                <a class="nav__link" href="chats.html"> 
                    <span class="nav_notification badge">1</span>
                    <i class="fa-regular fa-comment fa-2x"></i></a>
            </li>
            <li class="nav__btn">
                <a class="nav__link" href="find.html"><i class="fa-solid fa-magnifying-glass fa-2x"></i></a>
            </li>
            <li class="nav__btn">
                <a class="nav__link" href="more.html"><span class="nav_dot"></span><i class="fa-solid fa-ellipsis fa-2x"></i></a>
            </li>
        </ul>
    </nav>
    <div id="splash-screen">
        <i class="fa-solid fa-comment fa-2x"></i></a> 
    </div>

    <div id="no-mobile">
        <span>Your screen is too big</span>
    </div>

    <!-- 친구추가 모달 -->
    <div id="addFriendModal" class="modal">
        <div class="addFriendModal-content">
          <span class="close-button">&times;</span>
          <h2>친구 추가</h2>
          <div class="addFriendModal-content_div"><span class="addFriendModal-content_choice">ID로 추가</span></div>
          <form id="addFriendForm" method="post">
                <input type="text" id="friendId" name="friendId"  maxlength="20" autofocus>
                <span class="addFriendForm-counter">0/20</span>
          </form>
          <div class="user-info-display">
            <!-- 사용자 정보 표시 영역 -->
            
        </div>
        <div class="add-friend">
            <div class="add-friend_error-msg" display="none"></div>
            
        </div>
        </div>
      </div>


      <!-- 프로필 수정 모달 -->
      <div id="profileEditModal" class="profileEditModal">
        <div class="profileEditModal-content">
            <div class="profileEditModal-header">
                <i class="fas fa-image"></i>
                <div class="profileEditModal-header_img_choice">
                    <label><p class="realImg-upload">사진 변경</p><input type="file" id="backgroundImageInput" accept=".bmp, .png, .jpg, .jpeg" ></label>
                    <p class="img_upload">기본 이미지로 변경</p>
                </div>
                <span class="profileEditModal-close-button">&times;</span>
            </div>
            <div class="profileEditModal-body">
                <img src="/images/basic_profile.jpg" alt="Profile Image" class="profileEditModal-profile-img">
                <div class="profileEditModal-body_img_choice">
                    <label><p class="realImg-upload">사진 변경</p><input type="file" id="profileImageInput" accept=".bmp, .png, .jpg, .jpeg" ></label>
                    <p class="img_upload">기본 이미지로 변경</p>
                </div>
                <div class="profileEditModal-body_div">
                    <p class="profileEditModal-edit-profile">프로필 편집 </p>
                    <i class="fas fa-pen"></i>
                </div>
                <div class="profileEditModal-body_div">
                    <p class="profileEditModal-edit-statusMessage">상태메시지</p>
                    <i class="fas fa-pen"></i>
                </div>
            </div>
            <div class="profileEditModal-chat">
                <i class="fas fa-comment fa-lg"></i>
                <p class="profileEditModal-chat-text">나와의 채팅</p>
            </div>
        </div>
    </div>
    

      
    <script src="https://kit.fontawesome.com/5fa4e79d0c.js" crossorigin="anonymous"></script>
    <script src="/js/modal.js"></script>
    <script src="/js/profileModal.js"></script>
    <!-- font awesome code kit -->
</body>
</html>